YUI.add("inputex-dsselect",function(e,t){var n=e.Lang,r=e.inputEx;r.DSSelectField=function(e){r.DSSelectField.superclass.constructor.call(this,e)},e.extend(r.DSSelectField,r.SelectField,{setOptions:function(e){r.DSSelectField.superclass.setOptions.call(this,e),this.options.valueKey=e.valueKey||"value",this.options.labelKey=e.labelKey||"label",this.options.datasource=e.datasource},renderComponent:function(){r.DSSelectField.superclass.renderComponent.call(this),this.sendDataRequest("?all=true")},sendDataRequest:function(t){!this.options.datasource||this.options.datasource.sendRequest({request:t,callback:{success:e.bind(this.onDatasourceSuccess,this),failure:e.bind(this.onDatasourceFailure,this)}})},populateSelect:function(e){var t,n;while(this.el.childNodes.length>0)this.el.removeChild(this.el.childNodes[0]);for(t=0,n=e.length;t<n;t+=1)this.addChoice({value:e[t][this.options.valueKey],label:e[t][this.options.labelKey]})},onDatasourceSuccess:function(e){this.populateSelect(e.response.results)},onDatasourceFailure:function(e){this.el.innerHTML="<option>error</option>"}}),r.registerType("dsselect",r.DSSelectField)},"@VERSION@",{requires:["inputex-select","datasource"],ix_provides:"dsselect"});
